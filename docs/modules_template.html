<!doctype html>

<html>

<head>

<title>Monkey2 Modules Reference</title>

<link rel='stylesheet' href='css/microgram.css'>

<link rel='stylesheet' href='js-treeview/treeview.css' />

</head>

<body style='position:fixed; width:100%; height:100%;'>

<div style='position:absolute; left:0; width:249px; height:100%; overflow:auto; padding:8px; border-right:1px solid #d1d1d1;'>
<div id='tree' style='border:0; width:100%; height:100%;'></div>
</div>

<div style='position:absolute; left:250px; right:0; height:100%; padding:0;'>
<iframe id='page' style='border:0; width:100%; height:100%;'></iframe>
</div>

<!--
<div style='position:absolute; left:250px; right:0; height:100%; margin:0;'>
<iframe id='page' style='padding:0; border:0; margin:0; width:100%; height:100%;'></iframe>
</div>
-->

<script type='text/javascript' src='js-treeview/treeview.js'></script>

<script type='text/javascript'>

	var tree = [ ${MX2_API} ];

	var t=new TreeView( tree,'tree' );
	
	t.on( 'select',function( args ){
	
		var data=args.data;
		if( !data ) return;
		
		var page=data['page'];
		if( !page ) return;
		
		var module=data['module'];
		
		page="../modules/"+module+"/docs/__PAGES__/"+page;
		
		document.getElementById( 'page' ).src=page;
		
	} );

	t.on( 'expand',function( args ){
	
		var data=JSON.parse( args.target.getAttribute( 'data-item' ) );
		if( !data ) return;
		
		var page=data['page'];
		if( !page ) return;

		var module=data['module'];
		
		page="../modules/"+module+"/docs/__PAGES__/"+page;
		
		document.getElementById( 'page' ).src=page;
		
	} );
	
	
</script>

</body>

</html>
