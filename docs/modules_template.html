<!doctype html>

<html>

<head>

<title>Monkey2 Modules Reference</title>

<link rel='stylesheet' href='css/microgram.css'>

<link rel='stylesheet' href='js-treeview/treeview.css' />

<script type='text/javascript'>

function docsNodeClicked( page,module ){

	var page='../modules/'+module+'/docs/__PAGES__/'+page+'.html';

	document.getElementById( 'docs' ).src=page;
}

</script>

</head>

<body style='position:fixed; width:100%; height:100%;'>

<!-- CONTENT -->

<div style='position:absolute; left:0; width:249px; height:100%; overflow:auto; -webkit-overflow-scrolling:touch; padding:8px; border-right:1px solid #d1d1d1;'>
<div id='tree' style='border:0; width:100%; height:100%;'></div>
</div>

<div style='position:absolute; left:250px; right:0; height:100%; padding:0; border:0; margin:0; overflow:auto; -webkit-overflow-scrolling:touch;'>
<iframe id='docs' style='display:block; width:100%; height:100%; padding:0; border:0; margin:0;'></iframe>
</div>

<script type='text/javascript' src='js-treeview/treeview.js'></script>

<script type='text/javascript'>

	var tree = [ ${MX2_API} ];

	var t=new TreeView( tree,'tree' );
	
	t.on( 'select',function( args ){
	
		var data=args.data;
		if( !data ) return;
		
		var page=data['page'];
		if( !page ) return;
		
		var module=data['module'];
		
		docsNodeClicked( page,module );
	} );

	t.on( 'expand',function( args ){
	
		var data=JSON.parse( args.target.getAttribute( 'data-item' ) );
		if( !data ) return;
		
		var page=data['page'];
		if( !page ) return;

		var module=data['module'];
		
		docsNodeClicked( page,module );
	} );
	
	
</script>

<!-- END -->

</body>

</html>
